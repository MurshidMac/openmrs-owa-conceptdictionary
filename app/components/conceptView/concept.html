<openmrs-breadcrumbs links="vm.links"></openmrs-breadcrumbs>
<div id="body-wrapper">
	<div id="content" class="container">
		<div ng-show="vm.added" id="success-message" class="note-container">
			<div class="note success">
				<div class="text">
					<i class="icon-info-sign medium"></i>
					<p>&#160;&#160;{{vm.added}}.</p>
				</div>
			</div>
		</div>
		<div class="info-section">
			<div>
				<h1>
					<i class="icon-eye-open"></i>&#160;{{vm.concept.display}}
				</h1>
			</div>
			<div class="container">
				<form>
					<div>
						<div class="button-group" style="margin-left: 3%">
							<label class="button localeButtons-repeat"
								ng-repeat="locale in vm.locales" ng-click="vm.goLocale(locale)"
								ng-class="{active: vm.selectedLocale===locale}">
								{{locale}} </label>
						</div>
						<br>
						<div align="center">
							<fieldset style="width:90%">
								<div align="left">
									<p>
										<label><b>{{"Concept.name.localePreferred" | translate}} {{"Concept.name" | translate}}:</b></label> <i>{{vm.conceptLocale.names.preferredName}}</i>
									</p>
									<label>
										<b>{{"Fully Qualified Name" | translate}}:</b> </br>
										<span>{{vm.conceptLocale.names.fullname.display}}</span>
									</label>
									<label ng-show="vm.conceptLocale.names.synonyms.length > 0">
										<b>{{"Synonyms"| translate}}: </b></br>
										<span class="synonym-repeat" ng-repeat="synonym in vm.conceptLocale.names.synonyms">- {{synonym.display}}</br></span>
									</label>

									<label ng-show="vm.conceptLocale.names.searchTerms.length > 0">
										<b>{{"Terms" | translate}}: </b></br>
										<span class="searchTerm-repeat" ng-repeat="searchTerm in vm.conceptLocale.names.searchTerms">- {{searchTerm.display}} </br></span>
									</label>

									<label ng-show="vm.conceptLocale.names.shortname.display">
										<b>{{"Concept.shortName" | translate}}: </b></br>
										<span>{{vm.conceptLocale.names.shortname.display}}</br></span>
									</label>
									</tbody>
									</table>

									<p ng-show="vm.conceptLocale.description.display" class="localeSpecific"
									   title="Longer body of text used to fully describe this concept and how it is used.">
										<label><strong>{{"Description" | translate}}:</strong></label>
										<i>{{vm.conceptLocale.description.display}}</i>
									</p>
								</div>
							</fieldset>
						</div>
					</div>

					<div align="center">
						<fieldset style="width:90%">
							<legend>Concept information</legend>
							<div align="left">
								<p title="The classification of the medical concept">
									<label><strong>{{"Concept.conceptClass" | translate}}:</strong></label>
									<i>{{vm.concept.conceptClass.display}}</i>
								</p>

								<p>
									<label><strong>{{"Concept.set" | translate}}:</strong></label>
									<i ng-bind="vm.concept.set"></i>
								</p>

								<p ng-show="vm.concept.set">
									<label><strong>{{"Concept.conceptSets" | translate}}:</strong></label>
									<i ng-if="vm.concept.setMembers.length === 0">{{"Concept.conceptSets.empty" | translate}}</i>
								<ul ng-if="vm.concept.setMembers.length !== 0">
									<li class="setMembers-repeat"
										ng-repeat="member in vm.concept.setMembers"
										style="list-style-type: none"><i
											class="icon-double-angle-right"></i> <a
											href="/concept/{{member.uuid}}">{{member.display}}</a></li>
								</ul>

								</p>

								<p title="If data is stored within this concept, this describes what it will look like">
									<label><strong>{{"Concept.datatype" | translate}}:</strong></label>
									<i>{{vm.concept.datatype.display}}</i>
								</p>

								<p ng-show="vm.isCoded">
									<label><strong>{{"Concept.answers"| translate}}:</strong></label>
									<i ng-if="vm.concept.answers.length === 0">{{"Concept.conceptSets.empty" | translate}}</i>
								<ul ng-if="vm.concept.answers.length !== 0">
									<li class="answer-repeat" ng-repeat="answer in vm.concept.answers"><i
											class="icon-double-angle-right"></i> <a
											href="#/concept/{{answer.uuid}}">{{answer.display}}</a></li>
								</ul>
							</div>
						</fieldset>
					</div>

					<div ng-if="vm.isNumeric">
						<div align="center">
							<fieldset style="width:90%">
								<legend>
									<label>{{("ConceptNumeric.name" | translate)}}</label>
								</legend>
								<div align="left">
									<p>
										<small><i>({{"ConceptNumeric.inclusive" |
											translate}})</i></small>
									</p>
									<p ng-show="vm.concept.hiAbsolute">
										<label><strong>{{"ConceptNumeric.absoluteHigh" |
											translate}}:</strong></label> <i>{{vm.concept.hiAbsolute}}</i>
									</p>
									<p ng-show="vm.concept.hiCritical">
										<label><strong>{{"ConceptNumeric.criticalHigh" |
											translate}}:</strong></label> <i>{{vm.concept.hiCritical}}</i>
									</p>
									<p ng-show="vm.concept.hiNormal">
										<label><strong>{{"ConceptNumeric.normalHigh" |
											translate}}:</strong></label> <i>{{vm.concept.hiNormal}}</i>
									</p>
									<p ng-show="vm.concept.lowNormal">
										<label><strong>{{"ConceptNumeric.normalLow" |
											translate}}:</strong></label> <i>{{vm.concept.lowNormal}}</i>
									</p>
									<p ng-show="vm.concept.lowCritical">
										<label><strong>{{"ConceptNumeric.criticalLow" |
											translate}}:</strong></label> <i>{{vm.concept.lowCritical}}</i>
									</p>
									<p ng-show="vm.concept.lowAbsolute">
										<label><strong>{{"ConceptNumeric.absoluteLow" |
											translate}}:</strong></label> <i>{{vm.concept.lowAbsolute}}</i>
									</p>
									<p ng-show="vm.concept.units">
										<label><strong>{{"ConceptNumeric.units" |
											translate}}:</strong></label> <i>{{vm.concept.units}}</i>
									</p>
									<p ng-show="vm.concept.allowDecimal">
										<label><strong>{{"ConceptNumeric.allowDecimal" |
											translate}}:</strong></label> <i>{{vm.concept.allowDecimal}}</i>
									</p>
								</div>
							</fieldset>
						</div>
					</div>

					<div align="center">
						<fieldset style="width:90%" ng-show="vm.concept.mappings.length > 0">
							<legend>Mappings</legend>
							<div align="left">
								<table>
									<thead>
									<tr>
										<th>Relationship</th>
										<th>Source</th>
										<th>Code</th>
										<th>Name</th>
									</tr>
									</thead>
									<tbody>
									<tr ng-repeat="mapping in vm.concept.mappings">
										<td ng-bind="mapping.conceptMapType.display"></td>
										<td ng-bind="vm.parseMappingSource(mapping.display)"></td>
										<td ng-bind="vm.parseMappingCode(mapping.display)"></td>
										<td ng-bind="vm.parseMappingName(mapping.display)"></td>
									</tr>
									</tbody>
								</table>
							</div>
						</fieldset>
					</div>

					<div align="center">
						<fieldset style="width:90%">
							<legend>AUDIT INFORMATION</legend>
							<div align="left">
								<p ng-show="vm.concept.version"
								   title="An optional way for you to keep track of which concepts came before others when changing/updating concepts">
									<label>{{"Version" | translate}}: </label><i>{{vm.concept.version}}</i>
								</p>
								<p>
									<small>{{"CreatedBy" | translate}}: <i>
										{{vm.concept.auditInfo.creator.display}} -
										{{vm.concept.auditInfo.dateCreated|date:'medium'}}</i></small>
								</p>
								<p>
									<small>{{"ChangedBy" | translate}}: <i>
										{{vm.concept.auditInfo.creator.display}} -
										{{vm.concept.auditInfo.dateChanged|date:'medium'}}</i></small>
								</p>

								<p title="System generated unique ID" style="color: #D0D0D0;">
									<small>UUID: <i>{{vm.concept.uuid}}</i></small>
								</p>
							</div>
						</fieldset>
					</div>

			</form>
			<br> <a class="button"
				ng-href="#/concept/edit/{{vm.concept.uuid}}"><i
				class="icon-edit"></i>Edit</a>
		</div>
		</div>
	</div>
</div>